'use client'
import Image from 'next/image'
import Link from 'next/link'
import { usePathname } from 'next/navigation'
import { ArrowLeftRight, Wallet, History, ChartPie, FileText } from 'lucide-react'

const NAV_ITEMS = [
  { label: 'Swap', href: '/', icon: ArrowLeftRight },
  { label: 'Portfolio', href: '/portfolio', icon: Wallet },
  { label: 'History', href: '/history', icon: History },
  { label: 'Analytics', href: '/analytics', icon: ChartPie }
]

export function Sidebar() {
  const pathname = usePathname()

  return (
    <aside className='flex h-screen min-w-[302px] flex-col justify-between border-r border-(--border) p-4 text-(--text) font-sans bg-(--panel)'>
      <div>
        <div className='mb-4'>
          <div className='flex items-center gap-3'>
            <Image src='/assets/Logo.svg' alt='Logo' width={32} height={32} />
            <span className='text-[32px] font-mono tracking-wide text-(--text)'>Abrium</span>
          </div>
        </div>
        <nav>
          <ul className='flex flex-col gap-2'>
            {NAV_ITEMS.map(({ label, href, icon: Icon }) => {
              const isActive = pathname === href
              return (
                <li key={label}>
                  <Link
                    href={href}
                    className={`flex items-center gap-3 rounded-xl p-3 text-[16px] font-medium transition-colors border ${
                      isActive
                        ? 'bg-(--swap-panel-bg) border-(--border) text-(--text)'
                        : 'border-transparent text-(--muted) hover:bg-(--token-row-hover-bg) hover:text-(--text)'
                    }`}
                  >
                    <Icon size={16} />
                    {label}
                  </Link>
                </li>
              )
            })}
          </ul>
        </nav>
      </div>

      <div className='flex items-center justify-between py-4 gap-2'>
        <SocialLink href='#' icon={<FileText size={20} />} />
        <SocialLink href='#' icon={<XIcon />} />
        <SocialLink href='#' icon={<MediumIcon />} />
        <SocialLink href='#' icon={<DiscordIcon />} />
      </div>
    </aside>
  )
}

function SocialLink({ href, icon }: { href: string; icon: React.ReactNode }) {
  return (
    <Link
      href={href}
      className='text-(--muted) hover:text-(--text) transition-colors rounded-lg border border-(--border) p-3 gap-2 w-full flex items-center justify-center'
    >
      {icon}
    </Link>
  )
}

function XIcon() {
  return (
    <svg width='18' height='18' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        d='M18.9015 3.00006H22.0815L15.1325 10.9411L23.3045 21.7501H16.9035L11.8905 15.1951L6.15148 21.7501H2.96948L10.4285 13.2241L2.59348 3.00006H9.17248L13.6705 8.94906L18.9015 3.00006ZM17.7855 19.8471H19.5475L8.16748 4.79306H6.27548L17.7855 19.8471Z'
        fill='currentColor'
      />
    </svg>
  )
}

function MediumIcon() {
  return (
    <svg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        d='M5.625 5C4.6361 5 3.6694 5.29324 2.84715 5.84265C2.02491 6.39206 1.38404 7.17295 1.0056 8.08658C0.627166 9.00021 0.52815 10.0055 0.721076 10.9755C0.914002 11.9454 1.39021 12.8363 2.08947 13.5355C2.78873 14.2348 3.67965 14.711 4.64955 14.9039C5.61946 15.0969 6.62479 14.9978 7.53842 14.6194C8.45205 14.241 9.23294 13.6001 9.78235 12.7779C10.3318 11.9556 10.625 10.9889 10.625 10C10.6236 8.67436 10.0963 7.40343 9.15894 6.46607C8.22157 5.5287 6.95064 5.00145 5.625 5ZM5.625 13.75C4.88332 13.75 4.1583 13.5301 3.54161 13.118C2.92493 12.706 2.44428 12.1203 2.16045 11.4351C1.87663 10.7498 1.80236 9.99584 1.94706 9.26841C2.09175 8.54098 2.44891 7.8728 2.97335 7.34835C3.4978 6.8239 4.16599 6.46675 4.89341 6.32206C5.62084 6.17736 6.37484 6.25162 7.06007 6.53545C7.74529 6.81928 8.33096 7.29993 8.74301 7.91661C9.15507 8.5333 9.375 9.25832 9.375 10C9.37397 10.9942 8.97855 11.9475 8.27551 12.6505C7.57247 13.3535 6.61925 13.749 5.625 13.75ZM14.375 5C13.9313 5 13.0938 5.21563 12.475 6.66016C12.0883 7.5625 11.875 8.75 11.875 10C11.875 11.25 12.0883 12.4375 12.475 13.3398C13.0938 14.7844 13.9313 15 14.375 15C14.8188 15 15.6563 14.7844 16.275 13.3398C16.6617 12.4375 16.875 11.25 16.875 10C16.875 8.75 16.6617 7.5625 16.275 6.66016C15.6563 5.21563 14.8188 5 14.375 5ZM14.375 13.75C13.9344 13.75 13.125 12.3266 13.125 10C13.125 7.67344 13.9344 6.25 14.375 6.25C14.8156 6.25 15.625 7.67344 15.625 10C15.625 12.3266 14.8156 13.75 14.375 13.75ZM19.375 5.625V14.375C19.375 14.5408 19.3092 14.6997 19.1919 14.8169C19.0747 14.9342 18.9158 15 18.75 15C18.5842 15 18.4253 14.9342 18.3081 14.8169C18.1909 14.6997 18.125 14.5408 18.125 14.375V5.625C18.125 5.45924 18.1909 5.30027 18.3081 5.18306C18.4253 5.06585 18.5842 5 18.75 5C18.9158 5 19.0747 5.06585 19.1919 5.18306C19.3092 5.30027 19.375 5.45924 19.375 5.625Z'
        fill='currentColor'
      />
    </svg>
  )
}

function DiscordIcon() {
  return (
    <svg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'>
      <path
        d='M8.125 10.9375C8.125 11.1229 8.07001 11.3042 7.967 11.4584C7.86398 11.6125 7.71757 11.7327 7.54626 11.8037C7.37496 11.8746 7.18645 11.8932 7.0046 11.857C6.82274 11.8208 6.65569 11.7315 6.52458 11.6004C6.39347 11.4693 6.30418 11.3023 6.26801 11.1204C6.23183 10.9386 6.2504 10.7501 6.32136 10.5788C6.39231 10.4075 6.51248 10.261 6.66665 10.158C6.82082 10.055 7.00208 10 7.1875 10C7.43614 10 7.67459 10.0988 7.85041 10.2746C8.02622 10.4504 8.125 10.6889 8.125 10.9375ZM12.8125 10C12.6271 10 12.4458 10.055 12.2916 10.158C12.1375 10.261 12.0173 10.4075 11.9464 10.5788C11.8754 10.7501 11.8568 10.9386 11.893 11.1204C11.9292 11.3023 12.0185 11.4693 12.1496 11.6004C12.2807 11.7315 12.4477 11.8208 12.6296 11.857C12.8115 11.8932 13 11.8746 13.1713 11.8037C13.3426 11.7327 13.489 11.6125 13.592 11.4584C13.695 11.3042 13.75 11.1229 13.75 10.9375C13.75 10.6889 13.6512 10.4504 13.4754 10.2746C13.2996 10.0988 13.0611 10 12.8125 10ZM18.6289 15.0703L13.3945 17.3914C13.2371 17.4614 13.0671 17.4984 12.8949 17.5003C12.7226 17.5021 12.5518 17.4687 12.393 17.4022C12.2341 17.3356 12.0906 17.2372 11.9711 17.1131C11.8517 16.989 11.7589 16.8418 11.6984 16.6805L11.0648 14.9617C10.7148 14.9852 10.3599 14.9972 10 14.9977C9.6401 14.9982 9.28515 14.9862 8.93515 14.9617L8.30156 16.6805C8.24101 16.8417 8.14815 16.9888 8.02869 17.1129C7.90923 17.2369 7.76569 17.3353 7.60687 17.4018C7.44804 17.4684 7.27729 17.5018 7.10509 17.5C6.93289 17.4982 6.76287 17.4613 6.60546 17.3914L1.37109 15.0703C1.10092 14.9522 0.881471 14.742 0.751842 14.4772C0.622212 14.2123 0.590826 13.9101 0.663276 13.6242L2.96874 4.53127C3.02959 4.2948 3.15807 4.08119 3.33846 3.91662C3.51885 3.75205 3.74332 3.64366 3.98437 3.60471L6.80156 3.14143C7.11212 3.09148 7.43017 3.15882 7.69384 3.33037C7.9575 3.50191 8.14794 3.76539 8.22812 4.06956L8.48281 5.07268C8.97916 5.02424 9.48489 5.00002 10 5.00002C10.5151 5.00002 11.0203 5.02424 11.5156 5.07268L11.7703 4.06956C11.8503 3.76529 12.0407 3.50171 12.3044 3.33014C12.5682 3.15857 12.8863 3.0913 13.1969 3.14143L16.0156 3.60471C16.2567 3.64366 16.4811 3.75205 16.6615 3.91662C16.8419 4.08119 16.9704 4.2948 17.0312 4.53127L19.3383 13.6235C19.4108 13.9096 19.3793 14.2122 19.2494 14.4772C19.1194 14.7422 18.8995 14.9525 18.6289 15.0703ZM18.125 13.9281L15.818 4.84377C15.818 4.84377 15.818 4.84377 15.8117 4.84377L12.9945 4.37502C12.9925 4.37386 12.9902 4.37324 12.9879 4.37324C12.9856 4.37324 12.9833 4.37386 12.9812 4.37502L12.7602 5.24534C13.1508 5.31877 13.5414 5.40627 13.9187 5.51252C14.0675 5.55045 14.1971 5.6418 14.2828 5.76916C14.3686 5.89652 14.4044 6.05098 14.3836 6.20308C14.3627 6.35518 14.2866 6.49428 14.1697 6.59386C14.0529 6.69344 13.9035 6.74652 13.75 6.74299C13.6929 6.74283 13.6362 6.73495 13.5812 6.71956C12.414 6.40283 11.2094 6.24489 10 6.25002C8.79061 6.24464 7.58601 6.40231 6.41875 6.71877C6.33901 6.74343 6.25514 6.75186 6.17209 6.74357C6.08904 6.73528 6.00849 6.71045 5.9352 6.67053C5.8619 6.6306 5.79734 6.57641 5.74534 6.51113C5.69333 6.44586 5.65492 6.37083 5.63237 6.29047C5.60983 6.21011 5.60361 6.12605 5.61408 6.04324C5.62455 5.96044 5.6515 5.88058 5.69334 5.80836C5.73518 5.73614 5.79106 5.67303 5.85768 5.62276C5.9243 5.57249 6.00032 5.53607 6.08124 5.51565C6.45781 5.4094 6.84531 5.3219 7.23906 5.24846L7.01796 4.37502C7.01796 4.37502 7.01796 4.37502 7.00859 4.37502L4.18828 4.83831C4.18598 4.83767 4.18355 4.83767 4.18124 4.83831L1.87499 13.9321L7.10937 16.25C7.11201 16.2515 7.11496 16.2522 7.11796 16.2522C7.12097 16.2522 7.12392 16.2515 7.12656 16.25L7.65625 14.8219C7.12554 14.7407 6.60013 14.628 6.08281 14.4844C5.92872 14.4352 5.79973 14.3281 5.72294 14.1857C5.64615 14.0434 5.62756 13.8768 5.67106 13.721C5.71456 13.5652 5.81678 13.4323 5.95621 13.3503C6.09565 13.2683 6.26144 13.2436 6.41875 13.2813C7.58593 13.5981 8.79058 13.7558 10 13.75C11.2094 13.7558 12.4141 13.5981 13.5812 13.2813C13.7409 13.2365 13.9118 13.257 14.0563 13.3383C14.2009 13.4195 14.3072 13.5548 14.3519 13.7145C14.3967 13.8741 14.3762 14.045 14.295 14.1895C14.2137 14.3341 14.0784 14.4404 13.9187 14.4852C13.4009 14.6286 12.875 14.741 12.3437 14.8219L12.8711 16.25C12.8736 16.2514 12.8764 16.2521 12.8793 16.2521C12.8822 16.2521 12.885 16.2514 12.8875 16.25L18.125 13.9281Z'
        fill='currentColor'
        stroke='currentColor'
        strokeWidth='0.5'
      />
    </svg>
  )
}
